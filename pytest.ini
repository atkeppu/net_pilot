[pytest]
# Tämä kertoo pytestille, että projektin juurihakemisto on lisättävä
# Python-polkuun. Tämä mahdollistaa suorat importit kuten 'from logic.system import ...'
# ilman, että testitiedostoissa tarvitsee muokata sys.path-muuttujaa.
pythonpath = .

# Määritellään hakemisto, josta testit löytyvät.
testpaths = tests

# Oletusarvoiset komentorivivalitsimet, jotka ajetaan aina.
addopts =
    -v
    -rA
    --strict-markers
    --cov=.
    --cov-report=term-missing
    --cov-report=xml
    --cov-fail-under=60

[flake8]
# Asetetaan moderni rivinpituus
max-line-length = 80
# Ohitetaan virheet, jotka ovat ristiriidassa Black-formatoijan kanssa
# E203: välilyönti ennen ':'
# W503: rivinvaihto ennen binäärioperaattoria
extend-ignore = E203, W503
# Määritellään kansiot, joita ei tarkisteta
exclude =
    .git,
    __pycache__,
    build,
    dist,
    venv,
    .venv

[mypy]
# Ohitetaan virheet puuttuvista tyyppivihjeistä kolmannen osapuolen kirjastoissa (esim. tkinter)
ignore_missing_imports = True
# Älä seuraa importteja kirjastoihin, joilla ei ole tyyppivihjeitä
follow_imports = skip

[coverage:run]
# Mitataan myös haarautumien kattavuus.
branch = True

[coverage:report]
# Määritellään tiedostot ja kansiot, joita ei oteta huomioon kattavuusraportissa.
omit =
    tests/*
    build.py
    git_helper.py
    logger_setup.py
    create_context.py
    project_context.txt